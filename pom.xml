<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">

	<modelVersion>4.0.0</modelVersion>

	<parent>
		<groupId>ro.kuberam.maven</groupId>
		<artifactId>sourceforge</artifactId>
		<version>0.1-SNAPSHOT</version>
	</parent>

	<groupId>org.expath.specs</groupId>
	<artifactId>base</artifactId>
	<version>0.2-SNAPSHOT</version>
	<packaging>pom</packaging>
	<name>EXPath specifications</name>
	<url>http://expath.org</url>

	<properties>
		<web-sourceforge-specs-url>${sourceforge-user-web-url}/specs/expath</web-sourceforge-specs-url>
		<web-sourceforge-spec-url>${web-sourceforge-specs-url}/${expath-spec-id}</web-sourceforge-spec-url>
		<spec-names>crypto,datatype-conversion,ft-client,time,digital-publishing,pdf,image,location</spec-names>
		<libParentDir>/home/claudius/workspaces/expath/expath-libs</libParentDir>
	</properties>

	<build>
		<pluginManagement>
			<plugins>
				<plugin>
					<groupId>org.codehaus.mojo</groupId>
					<artifactId>xml-maven-plugin</artifactId>
					<executions>
						<execution>
							<id>generate-specs-index</id>
							<phase>prepare-package</phase>
							<goals>
								<goal>transform</goal>
							</goals>
							<configuration>
								<forceCreation>true</forceCreation>
								<transformationSets>
									<!-- Generate the specs index -->
									<transformationSet>
										<dir>../utils/generate-spec</dir>
										<includes>
											<include>generate-specs-index.xsl</include>
										</includes>
										<stylesheet>../utils/generate-spec/generate-specs-index.xsl</stylesheet>
										<parameters>
											<parameter>
												<name>spec-names</name>
												<value>${spec-names}</value>
											</parameter>
										</parameters>
									</transformationSet>
								</transformationSets>
							</configuration>
						</execution>
					</executions>
				</plugin>
				<plugin>
					<groupId>ro.kuberam.maven.plugins</groupId>
					<artifactId>kuberam-expath-plugin</artifactId>
					<version>0.2</version>
					<executions>
						<execution>
							<id>generate-spec</id>
							<phase>prepare-package</phase>
							<goals>
								<goal>transform-spec-to-html-format</goal>
							</goals>
							<configuration>
								<specId>${expath-spec-id}</specId>
								<specDir>${basedir}</specDir>
								<outputDir>${basedir}</outputDir>
							</configuration>
						</execution>
						<execution>
							<id>generate-lib-files</id>
							<phase>prepare-package</phase>
							<goals>
								<goal>generate-lib-basics</goal>
							</goals>
							<configuration>
								<specId>${expath-spec-id}</specId>
								<specDir>${basedir}</specDir>
								<libDir>${libParentDir}/${expath-spec-id}</libDir>
								<libVersion>0.2.5</libVersion>
								<libId>${expath-spec-id}</libId>
								<libName>${libName}</libName>
								<javaPackageName>${java-package-name}</javaPackageName>
							</configuration>
						</execution>
					</executions>
				</plugin>
				<plugin>
					<groupId>org.codehaus.mojo</groupId>
					<artifactId>wagon-maven-plugin</artifactId>
					<executions>
						<execution>
							<id>upload-index-of-specs-to-kuberam.ro</id>
							<phase>package</phase>
							<goals>
								<goal>upload-single</goal>
							</goals>
							<configuration>
								<serverId>sourceforge</serverId>
								<fromFile>../index.html</fromFile>
								<toFile>index.html</toFile>
								<url>${web-sourceforge-specs-url}</url>
							</configuration>
						</execution>
						<execution>
							<id>upload-spec-to-sourceforge</id>
							<phase>package</phase>
							<goals>
								<goal>upload-single</goal>
							</goals>
							<configuration>
								<serverId>sourceforge</serverId>
								<fromFile>${expath-spec-id}.html</fromFile>
								<toFile>${expath-spec-id}.html</toFile>
								<url>${web-sourceforge-spec-url}</url>
							</configuration>
						</execution>
					</executions>
				</plugin>
			</plugins>
		</pluginManagement>
	</build>

</project>
