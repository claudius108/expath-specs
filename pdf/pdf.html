<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>PDF Module</title><link rel="stylesheet" type="text/css" href="http://www.w3.org/StyleSheets/TR/base.css" /><style type="text/css">
code           { font-family: monospace; }

div.constraint,
div.issue,
div.note,
div.notice     { margin-left: 2em; }

ol.enumar      { list-style-type: decimal; }
ol.enumla      { list-style-type: lower-alpha; }
ol.enumlr      { list-style-type: lower-roman; }
ol.enumua      { list-style-type: upper-alpha; }
ol.enumur      { list-style-type: upper-roman; }


div.exampleInner pre { margin-left: 1em;
                       margin-top: 0em; margin-bottom: 0em}
div.exampleOuter {border: 4px double gray;
                  margin: 0em; padding: 0em}
div.exampleInner { background-color: #d5dee3;
                   border-top-width: 4px;
                   border-top-style: double;
                   border-top-color: #d3d3d3;
                   border-bottom-width: 4px;
                   border-bottom-style: double;
                   border-bottom-color: #d3d3d3;
                   padding: 4px; margin: 0em }
div.exampleWrapper { margin: 4px }
div.exampleHeader { font-weight: bold;
                    margin: 4px}

    code.function { font-weight: bold; }
    code.type { font-style: italic; }
    /* h1, h2, h3 { color: #84001C; background: white } */
    /* a, :link, :visited, a:active { color: #84005C; background: white } */
    body {
    background-image: url(http://expath.org/images/logo-candidate.png);
    }
  </style></head><body><p><a href="http://expath.org/"><img src="http://expath.org/images/expath-icon.png" alt="EXPath" height="32" width="32" /></a></p><div class="head">
<h1><a name="title" id="title"></a>PDF Module</h1>
<h2><a name="w3c-doctype" id="w3c-doctype"></a>EXPath Candidate Module 8 November 2011</h2><dl><dt>This version:</dt><dd>
            <a href="http://expath.org/spec/pdf/20111108">http://expath.org/spec/pdf/20111108</a>
        </dd><dt>Latest version:</dt><dd>
		<a href="http://expath.org/spec/pdf">http://expath.org/spec/pdf</a>
        </dd><dt>Editor:</dt><dd>Claudius Teodorescu, XML Consultant</dd></dl><p class="copyright"></p></div><hr /><div>
<h2><a name="abstract" id="abstract"></a>Abstract</h2><p>This proposal provides a PDF module for XPath 2.0. It defines extension functions for converting from one digital format to another, to
		execute various processing operations of digital documents, etc. It has been designed to be compatible with XQuery 1.0 and XSLT 2.0, as well as any other standard based on XPath 2.0.</p></div><div class="toc">
<h2><a name="contents" id="contents"></a>Table of Contents</h2><p class="toc">1 <a href="#d2e47">Introduction</a><br />
    1.1 <a href="#d2e52">Namespace conventions</a><br />
    1.2 <a href="#d2e71">Error management</a><br />
2 <a href="#d2e82">Functions for Documents in PDF Format</a><br />
    2.1 <a href="#d2e87">The digi-pub:pdf-merge() Function</a><br />
    2.2 <a href="#d2e96">The digi-pub:pdf-split() Function</a><br />
        2.2.1 <a href="#d2e129">The digi-pub:options element</a><br />
    2.3 <a href="#d2e146">The digi-pub:pdf-to-image() Function</a><br />
    2.4 <a href="#d2e154">The digi-pub:pdf-stamp() Function</a><br />
    2.5 <a href="#d2e162">The digi-pub:pdf-sign() Function</a><br />
    2.6 <a href="#d2e170">The digi-pub:pdf-encrypt() Function</a><br />
    2.7 <a href="#d2e178">The digi-pub:pdf-decrypt() Function</a><br />
    2.8 <a href="#d2e186">The digi-pub:pdf-import-page() Function</a><br />
    2.9 <a href="#d2e194">The digi-pub:pdf-export-page() Function</a><br />
    2.10 <a href="#d2e203">The digi-pub:pdf-delete-page() Function</a><br />
    2.11 <a href="#d2e211">The digi-pub:add-bookmark() Function</a><br />
</p>
<h3><a name="appendices" id="appendices"></a>Appendices</h3><p class="toc">A <a href="#d2e220">References</a><br />
B <a href="#d2e249">Summary of Error Conditions</a><br />
</p></div><hr /><div class="body"><div class="div1">
<h2><a name="d2e47" id="d2e47"></a>1 Introduction</h2><p>This PDF module allows manipulation of PDF documents.</p><div class="div2">
<h3><a name="d2e52" id="d2e52"></a>1.1 Namespace conventions</h3><p>The module defined by this document defines functions and elements in the namespace
                  <code>http://expath.org/ns/pdf</code>. In this document, the
		  <code>pdf</code> prefix, when used, is bound to this namespace URI.</p><p>Error codes are defined in the namespace <code>http://expath.org/ns/error</code>. In
               this document, <code>err</code> prefix, when used, is bound to this namespace
               URI.</p></div><div class="div2">
<h3><a name="d2e71" id="d2e71"></a>1.2 Error management</h3><p>Error conditions are identified by a code (a <code>QName</code>). When such an error
               condition is reached during the execution of the function, a dynamic error is thrown,
               with the corresponding error code (as if the standard XPath function
                  <code>error</code> had been called).</p></div></div><div class="div1">
<h2><a name="d2e82" id="d2e82"></a>2 Functions for Documents in PDF Format</h2><p>These functions are designated for processing the documents in PDF format.</p><div class="div2">
<h3><a name="d2e87" id="d2e87"></a>2.1 The <code>digi-pub:pdf-merge()</code> Function</h3><p>This function is used for merging two or more (a collection of) PDF documents.</p></div><div class="div2">
<h3><a name="d2e96" id="d2e96"></a>2.2 The <code>digi-pub:pdf-split()</code> Function</h3><p>This function is used for splitting a PDF document into a number of other PDF documents.</p><div class="exampleInner"><pre>
<code class="function">digi-pub:pdf-split</code>($document as <code class="type">xs:base64Binary</code>,
	$options as <code class="type">element(digi-pub:options)</code>) as <code class="type">xs:base64Binary+</code>
			</pre></div><ul><li><p><code>$document</code> is the PDF document to be splitted.</p></li><li><p><code>$options</code> are the options for the current operation.</p></li></ul><div class="div3">
<h4><a name="d2e129" id="d2e129"></a>2.2.1 The <code>digi-pub:options</code> element</h4><div class="exampleInner"><pre>
&lt;digi-pub:options&gt;
	(digi-pub:split-delimiter+)
&lt;/digi-pub:options&gt;
				</pre></div><ul><li><p>the <code>digi-pub:split-delimiter</code> child element
						specifies the delimiter used for splitting the input PDF
						document.</p></li></ul></div></div><div class="div2">
<h3><a name="d2e146" id="d2e146"></a>2.3 The <code>digi-pub:pdf-to-image()</code> Function</h3><p>This function is used for converting a PDF document to images.</p></div><div class="div2">
<h3><a name="d2e154" id="d2e154"></a>2.4 The <code>digi-pub:pdf-stamp()</code> Function</h3><p>This function is used for adding a stamp to a PDF document.</p></div><div class="div2">
<h3><a name="d2e162" id="d2e162"></a>2.5 The <code>digi-pub:pdf-sign()</code> Function</h3><p>This function is used for digitally sign a PDF document.</p></div><div class="div2">
<h3><a name="d2e170" id="d2e170"></a>2.6 The <code>digi-pub:pdf-encrypt()</code> Function</h3><p>This function is used for encrypting a PDF document by using a digital certificate.</p></div><div class="div2">
<h3><a name="d2e178" id="d2e178"></a>2.7 The <code>digi-pub:pdf-decrypt()</code> Function</h3><p>This function is used for decrypting a PDF document.</p></div><div class="div2">
<h3><a name="d2e186" id="d2e186"></a>2.8 The <code>digi-pub:pdf-import-page()</code> Function</h3><p>This function is used for importing to a PDF document a page or more pages from a PDF document.</p></div><div class="div2">
<h3><a name="d2e194" id="d2e194"></a>2.9 The <code>digi-pub:pdf-export-page()</code> Function</h3><p>This function is used for removing a page or more pages from a PDF document.</p></div><div class="div2">
<h3><a name="d2e203" id="d2e203"></a>2.10 The <code>digi-pub:pdf-delete-page()</code> Function</h3><p>This function is used for deleting a page or more pages from a PDF document.</p></div><div class="div2">
<h3><a name="d2e211" id="d2e211"></a>2.11 The <code>digi-pub:add-bookmark()</code> Function</h3><p>This function is used to add bookmarks to a PDF document.</p></div></div></div><div class="back"><div class="div1">
<h2><a name="d2e220" id="d2e220"></a>A References</h2><dl><dt class="label"><a name="xpath-30" id="xpath-30"></a>XPath 3.0</dt><dd>
	               <a href="http://w3.org/TR/xpath-30/">XML Path Language (XPath) 3.0</a>.
	               Jonathan Robie, Don Chamberlin, Michael Dyck, John Snelson, editors. W3C Working Draft, 13 December 2011.</dd><dt class="label"><a name="xslt-30" id="xslt-30"></a>XSLT 3.0</dt><dd>                        
	               <a href="http://w3.org/TR/xslt-30/">XSL Transformations (XSLT) Version 3.0</a>.
	               Michael Kay, editor. W3C Working Draft, 10 July 2012.</dd><dt class="label"><a name="xquery-30" id="xquery-30"></a>XQuery 3.0</dt><dd>                        
	               <a href="http://w3.org/TR/xquery-30/">XQuery 3.0: An XML Query Language</a>.
	               Jonathan Robie, Don Chamberlin, Michael Dyck, John Snelson, editors. W3C Working Draft, 13 December 2011.</dd><dt class="label"><a name="xpath-functions-30" id="xpath-functions-30"></a>XPath and XQuery Functions and Operators 3.0</dt><dd>
               <a href="http://w3.org/TR/xpath-functions-30/">XPath and XQuery Functions and Operators 3.0</a>.
               Michael Kay, editor. W3C Working Draft, 13 December 2011.</dd><dt class="label"><a name="xpath-datamodel-30" id="xpath-datamodel-30"></a>XQuery and XPath Data Model 3.0</dt><dd>
               <a href="http://w3.org/TR/xpath-datamodel-30/">XQuery and XPath Data Model 3.0</a>.
               Norman Walsh, Anders Berglund, John Snelson, editors. W3C Working Draft, 13 December 2011.</dd></dl></div><div class="div1">
<h2><a name="d2e249" id="d2e249"></a>B Summary of Error Conditions</h2><dl><dt class="label"><a name="errDPUB001" id="errDPUB001"></a>err:DPUB001</dt><dd>err:DPUB001: The transformation formula is not supported.</dd><dt class="label"><a name="errDPUB002" id="errDPUB002"></a>err:DPUB002</dt><dd>err:DPUB002: The remote resource does not exist.</dd><dt class="label"><a name="errDPUB003" id="errDPUB003"></a>err:DPUB003</dt><dd>err:DPUB003: The user has no rights to access the remote resource.</dd><dt class="label"><a name="errDPUB004" id="errDPUB004"></a>err:DPUB004</dt><dd>err:DPUB004: The syntax of the transformation formula is wrong.</dd></dl></div></div></body></html>